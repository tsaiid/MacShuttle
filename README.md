# MacShuttle ğŸ›ï¸

**MacShuttle** æ˜¯ä¸€å€‹å°ˆç‚º macOS è¨­è¨ˆçš„é–‹æº **Contour ShuttlePro v2** é©…å‹•ç¨‹å¼èˆ‡æ§åˆ¶å™¨ã€‚

å°ˆæ¡ˆåŒ…å«å…©å€‹ç‰ˆæœ¬ï¼š
1.  **Native Version (Swift)**: æ¨è–¦ä½¿ç”¨ã€‚é«˜æ•ˆèƒ½ã€åŸç”Ÿ Menu Bar Appã€åŸç”Ÿé€šçŸ¥èˆ‡ç³»çµ±æ•´åˆã€‚
2.  **Python Version (Legacy)**: åŸå‹é–‹ç™¼ç‰ˆæœ¬ï¼Œé©åˆé–‹ç™¼è€…ç ”ç©¶æˆ–è‡ªè¨‚é‚è¼¯ã€‚

å®ƒæ—¨åœ¨è§£æ±ºå®˜æ–¹é©…å‹•ç¨‹å¼åœ¨ç¾ä»£ macOS ä¸Šçš„ç›¸å®¹æ€§å•é¡Œï¼Œä¸¦æä¾›é«˜åº¦å¯è‡ªè¨‚çš„ã€Œæ‡‰ç”¨ç¨‹å¼æ„ŸçŸ¥ (App-Aware)ã€åŠŸèƒ½ã€‚ç‰¹åˆ¥é‡å° **Windows App (Microsoft Remote Desktop)** é€²è¡Œäº†å„ªåŒ–ï¼Œé€éåº•å±¤ç¡¬é«”è¨Šè™Ÿæ¨¡æ“¬ (AppleScript Key Codes) ç©¿é€ RDP é ç«¯æ¡Œé¢ã€‚

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

*   `native_version/`: Swift åŸç”Ÿç‰ˆæœ¬ (æ­£å¼ç‰ˆ)ã€‚
*   `python_version/`: Python èˆŠç‰ˆæœ¬ (é–‹ç™¼ç”¨)ã€‚

---

## ğŸš€ Native Version (æ¨è–¦)

ä½æ–¼ `native_version/` ç›®éŒ„ã€‚é€™æ˜¯ä¸€å€‹æ¨™æº–çš„ Swift macOS Appã€‚

### ç‰¹è‰²
*   **åŸç”Ÿ App Bundle**: ç·¨è­¯å¾Œç”¢ç”Ÿ `MacShuttle.app`ï¼Œå¯ç›´æ¥æ”¾å…¥ `/Applications`ã€‚
*   **æ¥µä½è³‡æºä½”ç”¨**: ä½¿ç”¨ IOKit åº•å±¤ APIï¼Œå¾…æ©Ÿæ™‚ CPU ä½¿ç”¨ç‡ 0%ã€‚
*   **App æ„ŸçŸ¥**: è‡ªå‹•åˆ‡æ›è¨­å®šæª”ã€‚
*   **åŸç”Ÿ UI**: ä½¿ç”¨ç³»çµ± Menu Bar èˆ‡åŸç”Ÿå°è©±æ¡†ã€‚

### å¦‚ä½•ç·¨è­¯èˆ‡å®‰è£

1.  é€²å…¥ç›®éŒ„ï¼š
    ```bash
    cd native_version
    ```

2.  åŸ·è¡Œç·¨è­¯è…³æœ¬ï¼š
    ```bash
    ./build_app.sh
    ```

3.  å®‰è£ï¼š
    ç·¨è­¯å®Œæˆå¾Œï¼Œæœƒç”¢ç”Ÿ `MacShuttle.app`ã€‚æ‚¨å¯ä»¥å°‡å…¶æ‹–å…¥ã€Œæ‡‰ç”¨ç¨‹å¼ã€è³‡æ–™å¤¾ã€‚

    ```bash
    open MacShuttle.app
    ```

### è¨­å®šæª”

*   ç¬¬ä¸€æ¬¡åŸ·è¡Œå¾Œï¼Œè¨­å®šæª”æœƒè‡ªå‹•å»ºç«‹æ–¼ï¼š
    `~/Library/Application Support/MacShuttle/settings.json`
*   æ‚¨å¯ä»¥é€é Menu Bar åœ–ç¤º -> **ã€Œåœ¨ Finder ä¸­é¡¯ç¤ºè¨­å®šæª”...ã€** å¿«é€Ÿé–‹å•Ÿç·¨è¼¯ã€‚

---

## ğŸ Python Version (Legacy)

ä½æ–¼ `python_version/` ç›®éŒ„ã€‚

### éœ€æ±‚
*   Python 3.10+
*   uv (æ¨è–¦) æˆ– pip

### åŸ·è¡Œæ–¹æ³•

```bash
cd python_version
uv sync
uv run mac_shuttle.py
```

---

## âœ¨ åŠŸèƒ½ç¸½è¦½ (é›™ç‰ˆæœ¬çš†æ”¯æ´)

*   **Menu Bar å¸¸é§**ï¼šè¼•é‡ç´šèƒŒæ™¯åŸ·è¡Œã€‚
*   **æ™ºæ…§ App æ„ŸçŸ¥**ï¼šè‡ªå‹•åµæ¸¬å‰æ™¯è¦–çª—ï¼Œæ ¹æ“šä¸åŒ App (å¦‚ Chrome, Final Cut Pro, Windows App) è‡ªå‹•åˆ‡æ›è¨­å®šæª”ã€‚
*   **RDP ç©¿é€æ”¯æ´**ï¼šæ”¯æ´ **Windows App** èˆ‡ **Microsoft Remote Desktop**ã€‚
*   **å¤šæ®µè®Šé€Ÿæ§åˆ¶**ï¼šé‡å° Shuttle (å¤–åœˆ) æ”¯æ´ 7 æ®µè®Šé€Ÿè¨­å®šã€‚
*   **ç†±é‡è¼‰ (Hot-Reload)**ï¼šä¿®æ”¹è¨­å®šæª”å¾Œç„¡éœ€é‡å•Ÿç¨‹å¼ã€‚

## âš ï¸ æ¬Šé™èªªæ˜

é¦–æ¬¡åŸ·è¡Œæ™‚ï¼ŒmacOS æœƒè¦æ±‚ä»¥ä¸‹æ¬Šé™ï¼š
1.  **è¼¸å…¥ç›£æ§ (Input Monitoring)**ï¼šå…è¨±è®€å– ShuttlePro çš„æŒ‰éµè¨Šè™Ÿã€‚
2.  **è¼”åŠ©ä½¿ç”¨ (Accessibility)**ï¼šå…è¨±æ¨¡æ“¬éµç›¤æŒ‰éµ (RDP ç©¿é€æ‰€éœ€)ã€‚

è«‹åœ¨ **ã€Œç³»çµ±è¨­å®šã€->ã€Œéš±ç§æ¬Šèˆ‡å®‰å…¨æ€§ã€** ä¸­å…è¨± `MacShuttle`ã€‚

## ğŸ“ License

MIT License